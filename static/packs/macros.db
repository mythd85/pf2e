{"_id":"084MOWWSEVNwpHVG","author":"ru9MkwAaWXaeSZph","command":"game.pf2e.gm.perceptionForSelected(event);","img":"systems/pf2e/icons/spells/vision-of-weakness.webp","name":"Perception for Selected Tokens","ownership":{"default":0},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.084MOWWSEVNwpHVG"}}}
{"_id":"0GU2sdy3r2MeC56x","actorIds":[],"author":"4rlSA43v1xPa1vsy","command":"game.pf2e.actions.restForTheNight({ actors: [game.user.character ?? canvas.tokens.controlled.map((t) => t.actor)].flat().filter((a) => a?.type === \"character\") })","img":"icons/svg/sleep.svg","name":"Rest for the Night","ownership":{"default":1},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.0GU2sdy3r2MeC56x"}}}
{"_id":"6duZj0Ygiqv712rq","author":"4rlSA43v1xPa1vsy","command":"game.pf2e.actions.treatWounds({ event, actors: [token?.actor ?? actor ?? game.user.character].filter((actor) => actor) })","img":"icons/svg/regen.svg","name":"Treat Wounds","ownership":{"default":1},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.6duZj0Ygiqv712rq"}}}
{"_id":"MAHxEeGf31wqv3jp","author":"oxKN2HrOvz2sSqlF","command":"game.pf2e.gm.xpFromEncounter();","img":"systems/pf2e/icons/spells/athletic-rush.webp","name":"XP","ownership":{"default":0},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.MAHxEeGf31wqv3jp"}}}
{"_id":"NQkc5rKoeFemdVHr","actorIds":[],"author":"ru9MkwAaWXaeSZph","command":"const tokens = canvas.tokens.controlled;\nif (tokens.length === 0) {\n    ui.notifications.error(`You must select at least one pc token`);\n} else {\n    game.pf2e.gm.launchTravelSheet(tokens.map((p) => p.actor));\n}","img":"systems/pf2e/icons/equipment/adventuring-gear/cartographers-kit.webp","name":"Travel Duration","ownership":{"default":0},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.NQkc5rKoeFemdVHr"}}}
{"_id":"aS6F7PSUlS9JM5jr","actorIds":[],"author":"gE95JAZb6BOLkaNX","command":"let toChat = (content) => {\r\n    let chatData = {\r\n        user: game.user.id,\r\n        content,\r\n        speaker: ChatMessage.getSpeaker(),\r\n    }\r\n    ChatMessage.create(chatData, {})\r\n}\r\n\r\nlet applyChanges = false;\r\nnew Dialog({\r\n  title: `Take a Breather`,\r\n  content: `\r\n    <div>Rest for 10 minutes, spend a resolve point, and regain stamina?</div>\r\n    `,\r\n  buttons: {\r\n    yes: {\r\n      icon: \"<i class='fas fa-check'></i>\",\r\n      label: `Take a Breather`,\r\n      callback: () => applyChanges = true\r\n    },\r\n    no: {\r\n      icon: \"<i class='fas fa-times'></i>\",\r\n      label: `Cancel`\r\n    },\r\n  },\r\n  default: \"yes\",\r\n  close: html => {\r\n    if (applyChanges) {\r\n        for ( let token of canvas.tokens.controlled ) {\r\n            const {name} = token;\r\n            console.log(token);\r\n            const {resolve, sp} = token.actor.system.attributes;\r\n            console.log(resolve, sp);\r\n            if (resolve.value > 0) {\r\n                let oldSP = sp.value;\r\n                toChat(`${name} has ${sp.value}/${sp.max} SP and spends a resolve point, taking a 10 minute breather. Stamina Refreshed.`);\r\n                token.actor.update({\r\n                    'system.attributes.sp.value': sp.max,\r\n                    'system.attributes.resolve.value': resolve.value-1\r\n                });\r\n            } else {\r\n                toChat(`${name} is tired and needs to go to bed! No resolve points remaining.`);\r\n            }\r\n        }\r\n      }\r\n    }\r\n}).render(true);","img":"icons/svg/unconscious.svg","name":"Take a Breather","ownership":{"default":1},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.aS6F7PSUlS9JM5jr"}}}
{"_id":"mxHKWibjPrgfJTDg","actorIds":[],"author":"ru9MkwAaWXaeSZph","command":"game.pf2e.actions.earnIncome(actor ?? game.user.character, event);","img":"systems/pf2e/icons/equipment/treasure/currency/gold-pieces.webp","name":"Earn Income","ownership":{"default":1},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.mxHKWibjPrgfJTDg"}}}
{"_id":"s2sa8lo9dcIA6UGe","author":"Ooz20ZCUmh0bjKL3","command":"game.pf2e.compendiumBrowser.rendered ? game.pf2e.compendiumBrowser.close() : game.pf2e.compendiumBrowser.render(true);","img":"systems/pf2e/icons/equipment/adventuring-gear/advanced-book-of-translation.webp","name":"Toggle Compendium Browser","ownership":{"default":1},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.s2sa8lo9dcIA6UGe"}}}
{"_id":"yBuEphSaJJ7V9Yw3","author":"ru9MkwAaWXaeSZph","command":"game.pf2e.gm.stealthForSelected(event);","img":"systems/pf2e/icons/features/classes/surprice-attack.webp","name":"Stealth for Selected Tokens","ownership":{"default":0},"scope":"global","type":"script","flags":{"core":{"sourceId":"Compendium.pf2e.pf2e-macros.yBuEphSaJJ7V9Yw3"}}}
